{"a":1503159937338,"b":{"unique_id":"default","signature":"MGYCMQDTP4VxMDmXbsUh7W/IeU7qJqChymDCneZMl/wyt9Ey0v/RufFnr12wQpRbsv413w4CMQCMOAWvrhSZnYhfxSconuF9P0L3Zq+CUC4qgg7Ie5D3B7mwwzSOiKh6Jc5DJTun9mI\u003d","javascript_string":"var calculateEncoding\u003dfunction(t){var e\u003d{};if(\"version\"in t){var a\u003dt.version.split(\".\");if(a.length\u003e\u003d2){var i\u003da[0],r\u003da[1];e.major\u003dNumber(i),e.minor\u003dNumber(r)}}var o\u003d!1;if(\"major\"in e\u0026\u0026\"minor\"in e\u0026\u0026(e.major\u003e9?o\u003d!0:9\u003d\u003de.major\u0026\u0026e.minor\u003e\u003d42\u0026\u0026(o\u003d!0)),\"media_type\"in t\u0026\u0026\"AUDIO_STITCH\"\u003d\u003d(d\u003dt.media_type))return\"RAW\";if(o\u0026\u0026\"media_type\"in t){var d\u003dt.media_type;if(\"VIDEO_SOUND_LAGUNA\"\u003d\u003dd||\"VIDEO_NO_SOUND_LAGUNA\"\u003d\u003dd)return\"SPECTACLE_NORMAL\"}return\"story_type\"in t\u0026\u0026\"shared\"\u003d\u003dt.story_type\u0026\u0026Number(t.bandwidth_estimate_download)\u003c187500?\"LOW_COMPRESSION\":\"NORMAL_COMPRESSION\"},calculateDirectStorageOptions\u003dfunction(t){var e\u003dt.urlPattern;if(!e)throw\"Error: direct URL pattern is not defined!\";var a\u003dt.auditId;if(!a)throw\"Error: audit id is not defined!\";var i,r,o\u003dt.media_type;\"IMAGE\"\u003d\u003d\u003do?(i\u003d\"RAW\",r\u003d{}):\"VIDEO_SOUND_LAGUNA\"\u003d\u003do||\"VIDEO_NO_SOUND_LAGUNA\"\u003d\u003do?(i\u003dcalculateEncoding(t),r\u003d{SPECTACLE_NORMAL:\"RAW\"}):(i\u003dcalculateEncoding(t),r\u003d{HEVC_COMPRESSION:\"NORMAL_COMPRESSION\",LOW_COMPRESSION:\"NORMAL_COMPRESSION\",NORMAL_COMPRESSION:\"RAW\"});for(var d\u003dt.mediaVariants.split(\",\"),n\u003di;-1\u003d\u003d\u003dd.indexOf(n);){if(!r[n])throw\"No fallbacks available for media variant \"+i;n\u003dr[n]}return{directURL:e+n+\"?auditId\u003d\"+a,mediaVariant:n}},calculateDSnapEncoding\u003dfunction(t){var e\u003d\"med9to16\",a\u003dfunction(t,e){return{width:t,height:e}},i\u003d{low9to16:a(324,576),medlow9to16:a(486,864),med9to16:a(540,960)},r\u003d{low2to3:a(320,480),med2to3:a(480,720)};\"reachability\"in t\u0026\u0026\"wifi\"!\u003d\u003dt.reachability\u0026\u0026(e\u003d\"low9to16\",delete i.medlow9to16,delete i.med9to16,delete r.med2to3);\"locale\"in t\u0026\u0026(\"SA\"\u003d\u003d\u003dt.locale||\"sa\"\u003d\u003d\u003dt.locale)\u0026\u0026\"bandwidth_estimate_download\"in t\u0026\u0026Number(t.bandwidth_estimate_download)\u003c\u003d187500\u0026\u0026(e\u003d\"low9to16\",delete i.medlow9to16,delete i.med9to16,delete r.med2to3);var o\u003d-1,d\u003d-1,n\u003d-1,l\u003d-1;if(!(\"height\"in t\u0026\u0026\"width\"in t))return e;if(o\u003dparseInt(t.width,10),d\u003dparseInt(t.height,10),\"max_video_height\"in t\u0026\u0026(l\u003dparseInt(t.max_video_height,10)),\"max_video_width\"in t\u0026\u0026(n\u003dparseInt(t.max_video_width,10)),isNaN(o)||isNaN(d))return e;isNaN(n)\u0026\u0026(n\u003d-1),isNaN(l)\u0026\u0026(l\u003d-1);var _,m\u003dNumber.MAX_SAFE_INTEGER,h\u003do/d;_\u003dMath.abs(h-2/3)\u003cMath.abs(h-9/16)?r:i;var s\u003de;for(key in _){var u\u003d(a\u003d_[key]).width,N\u003da.height,O\u003dMath.abs(u-o)+Math.abs(N-d);O\u003cm\u0026\u0026(-1\u003d\u003dn||u\u003cn)\u0026\u0026(-1\u003d\u003dl||N\u003cl)\u0026\u0026(m\u003dO,s\u003dkey)}return s},remapStoryStatusCode\u003dfunction(t){if(!(\"status_code\"in t))throw\"remapStoryStatusCode called without status_code\";if(!(\"URL\"in t))throw\"remapStoryStatusCode called without URL\";if(!(\"headers\"in t))throw\"remapStoryStatusCode called without headers\";return t.status_code};","ttl_sec":86400,"version_id":"JTun9mI\u003d"}}